/**
 * Filename: js/app/views/HelpPanelView
 *
 * initialises the view
 * 
 */// 
// require js: defines the required js libraries and app files
define(["jquery","underscore","backbone","videojs"],function(e,t,n){var r=n.View.extend({el:e("#video-panel-1"),videoSettingsObj:{},myPlayer:e("#video-panel-1"),initialize:function(){e(this.el).hide();this.on("testCall",this.testMethod,this)},testMethod:function(e){console.log("VideoPanelView testMethod")},defineVideoSettingsObj:function(e){this.videoSettingsObj=e},createVideoElement:function(){console.log("creating video");var t=this;this.removeVideoElement();var n="video-player";if(!e(t.videoSettingsObj.parentElement+" #video-player").length){_V_.options.flash.swf="resources/js/libs/video-js/video-js.swf";e(t.videoSettingsObj.parentElement+" #video-panel").html('<video id="video-player" class="video-js vjs-default-skin" controls preload="none" data-setup="{}" poster="'+t.videoSettingsObj.poster+'" >'+"</video>");e("html").is(".lt-ie9")||e(t.videoSettingsObj.parentElement+" #video-panel").hide();_V_(n).ready(function(){t.myPlayer=this;t.myPlayer.src(t.videoSettingsObj.src);setTimeout(function(){t.resizeVideoJS()},500);window.onresize=t.resizeVideoJS;t.videoSettingsObj.autoplay&&setTimeout(function(){t.myPlayer.play()},500)})}else{e(t.videoSettingsObj.parentElement+" #video-panel").hide();t.myPlayer=_V_(n);t.myPlayer.src(t.videoSettingsObj.src);setTimeout(function(){t.resizeVideoJS()},500);e(t.videoSettingsObj.parentElement+" #"+n+" .vjs-poster").attr("src",t.videoSettingsObj.poster);t.myPlayer.posterImage.show();t.videoSettingsObj.autoplay&&setTimeout(function(){t.myPlayer.play()},500)}},resizeVideoJS:function(){var t=this,n="video-player";e("#video-panel").show();var r=9/16;e("#"+n).is(":hidden")&&e("#"+n).show();var i=e("#video-panel").width();t.myPlayer=_V_(n);t.myPlayer.width(i).height(i*r)},removeVideoElement:function(){if(e("#video-player").length){_V_("video-player").pause();App.Models.ConfigModel.touch!==!0&&e(".vjs-big-play-button").show()}},transitionIn:function(){this.addEventListeners();e(this.el).show();this.createVideoElement()},transitionOut:function(){this.removeEventListeners();this.removeVideoElement();e(this.el).hide()},addEventListeners:function(){},removeEventListeners:function(){}});return r});